(()=>{"use strict";var e={d:(t,l)=>{for(var s in l)e.o(l,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:l[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){this.x=e,this.y=t,this.wall=!1,this.mouseEnter=!1,this.subsetId=null,this.cellElement=document.getElementById(`cell-${e}-${t}`),this.visited=!1,this.walledCellVisited=!1,this.direction=null,this.g=1/0,this.h=1/0,this.f=1/0,this.parent=void 0,this.neighbours=[],this.getNeighbours=e=>{let t=this.x,l=this.y;t<e[l].length-1&&this.neighbours.push(e[l][t+1]),l<e.length-1&&this.neighbours.push(e[l+1][t]),t>0&&this.neighbours.push(e[l][t-1]),l>0&&this.neighbours.push(e[l-1][t])}}function l(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function s(e,t){return e.y>t.y?"top":e.x<t.x?"right":e.y<t.y?"bottom":e.x>t.x?"left":void 0}function i(e){let t=[],l="";for(let e=33;e<=126;e++){const l=String.fromCharCode(e);t.push(l)}for(let s=0;s<e;s++){let e=Math.floor(Math.random()*t.length);l+=t[e],t.splice(e,1)}return l}async function n(e){return new Promise((t=>setTimeout(t,e)))}e.d({},{y6:()=>q,Vk:()=>j,ut:()=>P,eC:()=>D,BV:()=>U,uG:()=>z,ik:()=>V,BL:()=>T});let a,c=new Set;function o(e){let t=[];for(let l=0;l<e.length;l++)for(let s=0;s<e[l].length;s++){const i=e[l][s];l%2!=1&&s%2!=1||i==T||i==P||(i.cellElement.classList.add("wall"),i.wall=!0,t.push(i))}return t}function r(){for(;;){let e=Math.floor(Math.random()*D[0].length),t=Math.floor(Math.random()*D.length);if(e%2==0&&t%2==0)return D[t][e]}}function d(e){let t=[],l=e.neighbours;for(let e=0;e<l.length;e++)l[e].wall&&t.push(l[e]);return t}function u(e,t){let l=(e.x+t.x)/2,s=(e.y+t.y)/2;return D[s][l]}function h(e,t){return"top"==t?D[e.y-2][e.x]:"right"==t?D[e.y][e.x+2]:"bottom"==t?D[e.y+2][e.x]:"left"==t?D[e.y][e.x-2]:void 0}function f(e){let t=[],l=e.x,s=e.y;if(l+2<D[s].length&&!D[s][l+2].walledCellVisited&&t.push(D[s][l+2]),s+2<D.length&&!D[s+2][l].walledCellVisited&&t.push(D[s+2][l]),l>1&&!D[s][l-2].walledCellVisited&&t.push(D[s][l-2]),s>1&&!D[s-2][l].walledCellVisited&&t.push(D[s-2][l]),t.length>0)return t[Math.floor(Math.random()*t.length)]}function m(e){let t=[],l=e.x,s=e.y;return l>0&&!D[s][l-1].wall&&l+1<D[s].length&&!D[s][l+1].wall&&(t.push(D[s][l-1]),t.push(D[s][l+1])),s>0&&!D[s-1][l].wall&&s+1<D.length&&!D[s+1][l].wall&&(t.push(D[s-1][l]),t.push(D[s+1][l])),t}function g(e){for(let t=0;t<e.length;t++)for(let l=0;l<e[t].length;l++){const s=e[t][l],i=s.cellElement;i.onmouseleave=()=>{z&&(s!=T&&s!=P&&null==j?s.wall?(i.classList.remove("wall"),s.wall=!1):(i.classList.add("wall"),s.wall=!0):!c.has(s)||"start"==j&&i.classList.contains("goal")||"end"==j&&i.classList.contains("start")||(s.wall=!0,i.classList.add("wall"),c.delete(s)))},i.onmouseup=()=>{s!=T&&s!=P&&(s.wall?(i.classList.remove("wall"),s.wall=!1):(i.classList.add("wall"),s.wall=!0))}}}async function w(e){let t,l=[],i=e;for(;null!=i;)l.push(i),i=i.parent;if(!U)for(t=l.length-1;t>=0;t--)await n(8),l[t].cellElement.classList.replace("visited","path");for(t=l.length-1;t>0;t--){U||await n(6);let e=document.createElement("div");e.classList.add("line",s(l[t],l[t-1])),U?l[t].cellElement.classList.replace("visited","path-traced"):l[t].cellElement.classList.replace("path","path-traced"),l[t].cellElement.appendChild(e)}U?l[t].cellElement.classList.replace("visited","path-traced"):l[t].cellElement.classList.replace("path","path-traced")}async function p(e,t,l,s){let i,n,a=[];for(l==s?(i=e,n=t):(i=t,n=e);n;)a.push(n),n=n.parent;for(let e=a.length-1;e>0;e--)a[e].parent=a[e-1];a[0].parent=i,a=[],await w(s)}async function v(e,t){a=t,await E(e)?(console.log("Search Successful"),await w(t)):console.log("Search Unsuccessful!!")}async function E(e){if(e.visited=!0,e.cellElement.classList.remove("marked"),e.cellElement.classList.add("visited"),U&&e.cellElement.classList.add("no-animation"),e==a)return!0;let t=e.neighbours;for(let l=0;l<t.length;l++){let s=t[l];if(!s.visited&&!s.wall){if(s.parent=e,s.cellElement.classList.add("marked"),U||await n(7),await E(s))return!0;s.parent=void 0,U||(s.cellElement.classList.replace("visited","marked"),await n(15),s.cellElement.classList.replace("marked","visited"))}}return!1}function L(e,t){this.element=e,this.priority=t}function y(){this.list=[],this.insert=(e,t,l=1/0)=>{let s,i=new L(e,[t,l]);for(s=this.list.length;s>0&&!(i.priority[0]>this.list[s-1].priority[0])&&!(i.priority[0]==this.list[s-1].priority[0]&&i.priority[1]>=this.list[s-1].priority[1]);s--)this.list[s]=this.list[s-1];this.list[s]=i},this.delete=()=>{if(0==this.list.length)return;let e=this.list[0];return this.list.splice(0,1),e.element},this.update=(e,t,l=1/0)=>{let s=0;for(;s<this.list.length&&this.list[s].element!=e;s++);this.list.splice(s,1),this.insert(e,t,l)},this.show=()=>{let e=[];for(let t=0;t<this.list.length;t++)e.push(this.list[t].element);return e},this.isEmpty=()=>0==this.list.length,this.includes=e=>{for(let t=0;t<this.list.length;t++)if(this.list[t].element==e)return!0;return!1}}function b(){this.list=[],this.insert=(e,l)=>{let s=new L(e,l);for(let e=this.list.length;e>0;e--)this.list[e]=this.list[e-1];this.list[0]=s,t(0)},this.delete=()=>{if(0==this.list.length)return;let e=this.list[0];return this.list.splice(0,1),t(0),e.element},this.update=(e,t)=>{let l=0;for(;l<this.list.length&&this.list[l].element!=e;l++);this.list.splice(l,1),this.insert(e,t)},this.show=()=>{let e=[];for(let t=0;t<this.list.length;t++)e.push(this.list[t].element);return e},this.isEmpty=()=>0==this.list.length,this.includes=e=>{for(let t=0;t<this.list.length;t++)if(this.list[t].element==e)return!0;return!1};let e=this;function t(t){let s=t;const i=e.list.length-1;for(;;){let t,n=2*s+1,a=2*s+2;if(n>i&&a>i)return;t=a>i||e.list[n].priority<e.list[a].priority?n:a,e.list[s].priority>e.list[t].priority&&l(s,t),s=t}}function l(t,l){let s=e.list[t];e.list[t]=e.list[l],e.list[l]=s}}async function k(e,t,l,s){let i,a,c=t-e,o=s-l;if(c<2||o<2)return;let r=c>o?"vertical":o>c?"horizontal":Math.random()<.5?"vertical":"horizontal";await n(80),"vertical"==r?(i=await async function(e,t,l,s){let i=[];for(let l=e;l<=t;l++)l%2==1&&i.push(l);for(;i.length>0;){let e=Math.floor(Math.random()*i.length),t=i[e];if(l-1>=0&&!D[l-1][t].wall||s+1<V&&!D[s+1][t].wall){i.splice(e,1);continue}let a=l+Math.floor(Math.random()*(s-l+1));for(let e=l;e<=s;e++){if(e==a||D[e][t]==T||D[e][t]==P)continue;let l=D[e][t];l.cellElement.classList.add("wall"),l.wall=!0,await n(15)}return t}}(e,t,l,s),null!=i&&(await k(e,i-1,l,s),await k(i+1,t,l,s))):(a=await async function(e,t,l,s){let i=[];for(let e=l;e<=s;e++)e%2==1&&i.push(e);for(;i.length>0;){let l=Math.floor(Math.random()*i.length),s=i[l];if(e-1>=0&&!D[s][e-1].wall||t+1<q&&!D[s][t+1].wall){i.splice(l,1);continue}let a=e+Math.floor(Math.random()*(t-e+1));for(let l=e;l<=t;l++){if(l==a||D[s][l]==T||D[s][l]==P)continue;let e=D[s][l];e.cellElement.classList.add("wall"),e.wall=!0,await n(15)}return s}}(e,t,l,s),null!=a&&(await k(e,t,l,a-1),await k(e,t,a+1,s)))}function S(){this.subset=[],this.insert=e=>{this.subset.push(e)},this.insertMany=e=>{for(let t=0;t<e.length;t++)this.subset.push(e[t])},this.getElements=()=>this.subset,this.modifyElementsId=e=>{for(let t=0;t<this.subset.length;t++)this.subset[t].subsetId=e}}let M,x=[];async function I(e){e.walledCellVisited=!0;let t=f(e);if(t){x.push(e),await n(70);let l=(e.x+t.x)/2,s=(e.y+t.y)/2,i=D[s][l];i.walledCellVisited=!0,i.wall=!1,i.cellElement.classList.remove("wall"),await I(t)}else x.length>0?await I(x.pop()):console.log("Done")}async function C(e){let t=e;for(;;){let e=f(t),l=s(t,e);if(M.includes(e))return void(t.direction=l);l!=t.direction&&(t.direction=l,t=e)}}const V=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--rows")),q=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--cols"));let z,U,D,T,P,j,B=document.querySelector(".grid");function A(){let e=[];B.innerHTML="";for(let e=0;e<V;e++)for(let t=0;t<q;t++){const l=document.createElement("div");l.classList.add("cell"),l.id=`cell-${t}-${e}`,B.appendChild(l)}return function(e){for(let l=0;l<V;l++){e[l]=[];for(let s=0;s<q;s++)e[l][s]=new t(s,l)}for(let t=0;t<V;t++)for(let l=0;l<q;l++)e[t][l].getNeighbours(e)}(e),e}function $(){D=A(),T=D[10][10],P=D[10][40],T.cellElement.classList.add("start"),P.cellElement.classList.add("goal"),N(),g(D)}function O(){let e=T.x,t=T.y,l=P.x,s=P.y;D=A(),T=D[t][e],P=D[s][l],T.cellElement.classList.add("start"),P.cellElement.classList.add("goal"),N(),g(D)}function H(){for(let e=0;e<V;e++)for(let t=0;t<q;t++){let l=D[e][t];l.visited=!1,l.parent=void 0,l.cellElement.innerHTML="",l.cellElement.classList.remove("path","marked","visited","path-traced","no-animation")}N(),g(D)}function N(){for(let e=0;e<V;e++)for(let t=0;t<q;t++){const l=D[e][t];l.cellElement.onmousedown=()=>{l==T?j="start":l==P&&(j="end")},l.cellElement.onmouseenter=()=>{z&&l!=T&&l!=P&&("start"==j?(T.cellElement.classList.remove("start"),l.cellElement.classList.add("start"),l.cellElement.classList.remove("wall"),l.wall&&c.add(l),l.wall=!1,T=l):"end"==j&&(P.cellElement.classList.remove("goal"),l.cellElement.classList.add("goal"),l.cellElement.classList.remove("wall"),l.wall&&c.add(l),l.wall=!1,P=l),"start"!=j&&"end"!=j||"Mazes"==F||!U?"Mazes"==F&&U&&(H(),U=!1):K(J))}}}async function G(e){if("recursiveBacktracking"==e)O(),o(D),await I(D[0][0]);else if("randomizedKruskal"==e){O();let e=o(D);await async function(e){let t={};for(;e.length>0;){let l=Math.floor(Math.random()*e.length),s=e[l];e.splice(l,1);let a=m(s);if(0!=a.length){if(null==a[0].subsetId&&null!=a[1].subsetId){let e=a[1].subsetId;a[0].subsetId=a[1].subsetId,t[e].insert(a[0])}else if(null==a[1].subsetId&&null!=a[0].subsetId){let e=a[0].subsetId;a[1].subsetId=a[0].subsetId,t[e].insert(a[1])}else if(null==a[0].subsetId&&null==a[1].subsetId){let e=i(15);a[0].subsetId=e,a[1].subsetId=e;let l=new S;l.insertMany([a[0],a[1]]),t[e]=l}else{if(a[0].subsetId==a[1].subsetId)continue;{let e=a[0].subsetId,l=a[1].subsetId;t[l].modifyElementsId(e),t[e].insertMany(t[l].getElements()),delete t[l]}}await n(56),s.wall=!1,s.cellElement.classList.remove("wall")}}console.log("Done")}(e)}else"randomizedPrim"==e?(O(),o(D),await async function(e){e.walledCellVisited=!0;let t=d(e);for(;t.length>0;){let l=Math.floor(Math.random()*t.length),s=t[l];t.splice(l,1);let i=m(s);i[0].walledCellVisited&&i[1].walledCellVisited||(i[0].walledCellVisited||i[1].walledCellVisited)&&(await n(70),s.wall=!1,s.cellElement.classList.remove("wall"),i[0].walledCellVisited?i[1].walledCellVisited||(e=i[1]):e=i[0],e.walledCellVisited=!0,t=t.concat(d(e)))}console.log("Done")}(D[0][0])):"wilson"==e?(O(),o(D),await async function(){let e;for(M=[r()];(V+1)*(q+1)>4*M.length;){for(;e=r(),M.includes(e););await C(e);let t=e;for(;!M.includes(t);){M.push(t);let e=h(t,t.direction),l=u(t,e);await n(70),l.wall=!1,l.cellElement.classList.remove("wall"),t=e}}console.log("Done")}()):"recursiveDivision"==e&&(O(),await k(0,q-1,0,V-1))}async function K(e){"dijkstra"==e?(H(),await async function(e,t){let l=[],s=e;for(s.g=0,l.push(s),s.cellElement.classList.add("marked"),U||await n(0);l.length>0;){if(s=l[0],l.splice(0,1),s.cellElement.classList.remove("marked"),s.cellElement.classList.add("visited"),U?s.cellElement.classList.add("no-animation"):await n(0),s==t)return console.log("Search Successful"),void await w(t);let e=s.neighbours;for(let t=0;t<e.length;t++){let i=e[t];if(i.visited||i.wall)continue;i.cellElement.classList.add("marked");let n=s.g+1;l.includes(i)?n<i.g&&(i.g=n,i.parent=s):(i.g=n,i.parent=s,l.push(i))}s.visited=!0}console.log("Search Unsuccessful!!")}(T,P)):"a*"==e?(H(),await async function(e,t){let s=[],i=e;for(i.g=0,s.push(i),i.cellElement.classList.add("marked"),U||await n(0);s.length>0;){let e=0;for(let t=0;t<s.length;t++)s[t].f<s[e].f&&(e=t);if(i=s[e],s.splice(e,1),i.cellElement.classList.replace("marked","visited"),U?i.cellElement.classList.add("no-animation"):await n(0),i==t)return console.log("Search Successful"),void await w(t);let a=i.neighbours;for(let e=0;e<a.length;e++){let n=a[e];if(n.visited||n.wall)continue;n.cellElement.classList.add("marked");let c=i.g+1;s.includes(n)?c<n.g&&(n.g=c,n.parent=i):(n.g=c,n.parent=i,s.push(n)),n.h=l(n,t),n.f=n.g+n.h}i.visited=!0}console.log("Search Unsuccessful!!")}(T,P)):"bfs"==e?(H(),await async function(e,t){let l=[],s=e;for(l.push(s),s.cellElement.classList.add("marked"),U||await n(0);l.length>0;){if(s=l[0],l.splice(0,1),s.cellElement.classList.replace("marked","visited"),U?s.cellElement.classList.add("no-animation"):await n(0),s==t)return console.log("Search Successful"),void await w(t);let e=s.neighbours;for(let t=0;t<e.length;t++){let i=e[t];i.visited||i.wall||l.includes(i)||(i.parent=s,l.push(i),i.cellElement.classList.add("marked"))}s.visited=!0}console.log("Search Unsuccessful!!")}(T,P)):"dfs"==e?(H(),await v(T,P)):"greedyBfs"==e?(H(),await async function(e,t){let s=e,i=new b;for(i.insert(s,0),s.cellElement.classList.add("marked"),U||await n(0);!i.isEmpty();){if(s=i.delete(),s.cellElement.classList.replace("marked","visited"),U&&s.cellElement.classList.add("no-animation"),s==t)return console.log("Search Successful"),void await w(t);let e=s.neighbours;for(let a=0;a<e.length;a++){let c=e[a];c.visited||c.wall||(i.includes(c)||(c.h=l(c,t),c.parent=s,i.insert(c,c.h),c.cellElement.classList.add("marked")),U||await n(0))}s.visited=!0}console.log("Search Unsuccessful!!")}(T,P)):"modifiedDijkstra"==e?(H(),await async function(e,t){let s=new y,i=e;for(i.g=0,i.h=l(i,t),i.cellElement.classList.add("marked"),s.insert(i,i.g,i.h),U||await n(0);!s.isEmpty();){if(i=s.delete(),i.cellElement.classList.replace("marked","visited"),U?i.cellElement.classList.add("no-animation"):await n(0),i==t)return console.log("Search Successful"),void await w(t);let e=i.neighbours;for(let n=0;n<e.length;n++){let a=e[n];if(a.visited||a.wall)continue;a.cellElement.classList.add("marked");let c=i.g+1;s.includes(a)?c<a.g&&(a.g=c,a.h=i.h+l(a,t),a.parent=i,s.update(a,a.g+a.h+i.h,i.h+a.h)):(a.g=c,a.h=i.h+l(a,t),a.parent=i,s.insert(a,a.g+a.h+i.h,i.h+a.h))}i.visited=!0}console.log("Search Unsuccessful!!")}(T,P)):"bidirectionalDijkstra"==e?(H(),await async function(e,t){let l=[],s=[],i=[],a=[],c=e,o=t;for(c.g=0,o.g=0,l.push(c),s.push(o),c.cellElement.classList.add("marked"),o.cellElement.classList.add("marked"),U||await n(0);l.length>0&&s.length>0;){c=l[0],o=s[0],l.splice(0,1),s.splice(0,1),c.cellElement.classList.replace("marked","visited"),o.cellElement.classList.replace("marked","visited"),U?(c.cellElement.classList.add("no-animation"),o.cellElement.classList.add("no-animation")):await n(0);let r=c.neighbours,d=o.neighbours,u=r.length,h=d.length,f=0,m=0;for(;f<u||m<h;){let n;if(f<u){if(n=r[f],n.visited||n.wall){if(!i.includes(n)&&a.includes(n))return console.log("Search Successful"),void await p(n,c,e,t)}else{n.cellElement.classList.add("marked");let e=c.g+1;s.includes(n)||n==o||(l.includes(n)?e<n.g&&(n.g=e,n.parent=c):(n.g=e,n.parent=c,l.push(n)))}f++}if(m<h){if(n=d[m],n.visited||n.wall){if(i.includes(n)&&!a.includes(n))return console.log("Search Successful"),void await p(n,o,t,t)}else{n.cellElement.classList.add("marked");let e=o.g+1;l.includes(n)||n==c||(s.includes(n)?e<n.g&&(n.g=e,n.parent=o):(n.g=e,n.parent=o,s.push(n)))}m++}}c.visited=!0,o.visited=!0,i.push(c),a.push(o)}console.log("Search Unsuccessful!!")}(T,P)):"bidirectionalA*"==e&&(H(),await async function(e,t){let s=new b,i=new b,a=[],c=[],o=e,r=t;for(o.g=0,r.g=0,o.h=l(o,r),r.h=l(r,o),o.f=o.g+o.h,r.f=r.g+r.h,s.insert(o,o.f),i.insert(r,r.f),o.cellElement.classList.add("marked"),r.cellElement.classList.add("marked"),U||await n(0);!s.isEmpty()&&!i.isEmpty();){if(o=s.delete(),r=i.delete(),o.cellElement.classList.replace("marked","visited"),r.cellElement.classList.replace("marked","visited"),U?(o.cellElement.classList.add("no-animation"),r.cellElement.classList.add("no-animation")):await n(0),o.x==r.x&&o.y==r.y)return void console.log("Search Successful");let d=o.neighbours,u=r.neighbours,h=d.length,f=u.length,m=0,g=0;for(;m<h||g<f;){let n;if(m<h){if(n=d[m],n.visited||n.wall){if(!a.includes(n)&&c.includes(n))return console.log("Search Successful"),void await p(n,o,e,t)}else{n.cellElement.classList.add("marked");let e=o.g+1;i.includes(n)||n==r||(s.includes(n)?e<n.g&&(n.g=e,n.f=n.g+n.h,n.parent=o,s.update(n,n.f)):(n.g=e,n.h=l(n,t),n.f=n.g+n.h,n.parent=o,s.insert(n,n.f)))}m++}if(g<f){if(n=u[g],n.visited||n.wall){if(a.includes(n)&&!c.includes(n))return console.log("Search Successful"),void await p(n,r,t,t)}else{n.cellElement.classList.add("marked");let t=r.g+1;s.includes(n)||n==o||(i.includes(n)?t<n.g&&(n.g=t,n.f=n.g+n.h,n.parent=r,i.update(n,n.f)):(n.g=t,n.h=l(n,e),n.f=n.g+n.h,n.parent=r,i.insert(n,n.f)))}g++}}o.visited=!0,r.visited=!0,a.push(o),c.push(r)}console.log("Search Unsuccessful!!")}(T,P))}let F,J,Q=[],R=null;const W=document.querySelectorAll(".select"),X=document.querySelector("#show-guide"),Y=document.querySelector("#visualize"),Z=document.querySelector("#clear-path"),_=document.querySelector("#clear-board"),ee=document.querySelector("#clear-walls"),te=document.querySelectorAll(".option-list"),le=document.querySelector(".tutorial .guide");$(),B.onmousedown=()=>{z=!0},B.onmouseup=()=>{z=!1,j=void 0},X.onclick=()=>{le.classList.toggle("active"),window.onmousedown=e=>{e.target.classList.contains("guide")||e.target==X||(le.classList.remove("active"),window.onmousedown=void 0)}},W.forEach((e=>{Q.push(e.innerText.trim())}));for(let e=0;e<W.length;e++){const t=te[e].querySelectorAll(".option");W[e].onclick=()=>{te[e].classList.toggle("active"),window.onmousedown=t=>{t.target.classList.contains("option")||t.target==W[e]||te[e].classList.remove("active"),window.onmousedown=void 0}},t.forEach((t=>{t.onclick=()=>{null!=R&&(R.innerText=F),F=Q[e],R=W[e],J=t.querySelector("input").id,W[e].innerText=t.querySelector("label").innerText,te[e].classList.remove("active")}}))}Y.onclick=async()=>{const e=[Y,_,ee,Z];null!=R&&(U=!1,B.classList.add("inactive"),e.forEach((e=>{e.classList.add("inactive")})),W.forEach((e=>{e.classList.add("inactive")})),await async function(e,t){"Mazes"==e?await G(t):await K(t)}(F,J),W.forEach((e=>{e.classList.remove("inactive")})),e.forEach((e=>{e.classList.remove("inactive")})),B.classList.remove("inactive"),"Mazes"!=F&&(U=!0))},_.onclick=()=>{$(),U=!1},ee.onclick=()=>{O(),U=!1},Z.onclick=()=>{H(),U=!1}})();